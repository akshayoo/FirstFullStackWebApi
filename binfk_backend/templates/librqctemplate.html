<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>QC Report</title>
    <style>
        @page {
            size: A4;
            margin-top: 35mm; 
            margin-bottom: 15mm;
            margin-left: 10mm;
            margin-right: 10mm;
            
            @top-left-corner {
                content: "";
                background-color: rgb(170, 204, 45);
                width: 210mm;
                height: 5mm;
                position: absolute;
                top: 0;
                left: 0;
            }
        }
        
        @page :first {
            margin-top: 0;
        }
        
        .header-wrapper {
            position: running(pageHeader);
        }
        
        @page {
            @top-center {
                content: element(pageHeader);
            }
        }


        body {
            background-color: #ffffff;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        .header-comp {
            background-color: rgb(170, 204, 45);
            height: 20px;
            width: 100vw;
        }

        .header-div {
            display: flex;
            margin: 5px;
            align-items: center;
            height: 50px;
        }

        .header-img {
            margin-left: auto;
        }

        .header-img img {
            margin-right: 30px;
            height: 50px;
            padding: 5px;
        }

        .header-comp2 {
            margin: 5px;
            height: 25px;
            background-color: #36165a;
        }

        .header-comp2 h3 {
            margin-left: 30px;
            color: #ffffff;
            padding: 4px;
            margin: 0;
            line-height: 25px;
        }

        .general-cont {
            margin-left: 50px;
            margin-right: 50px;
            margin-top: 20px;
        }

        .grid-comp {
            display: block;
        }

        .grid-inside-comp {
            display: grid;
            grid-template-columns: 1fr 1fr;
        }

        .grid-inside-comp > div {
            padding: 8px;
            border: 1px solid #ffffff;
            background-color: #e0e0e0;
            text-align: center;
        }

        .overview-head {
            text-align: center;
            margin-bottom: 10px;
        }

        .overview-head h3 {
            color: #36165a;
            font-size: 16px;
            margin: 10px 0;
        }

        .grid-comp-tr {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 5px;
            margin-bottom: 10px;
        }

        .grid-comp-tr-in {
            padding: 5px;
            border: 1px dashed #36165a;
            border-radius: 5px;
        }

        .grid-comp-tr-in > div:first-child {
            background-color: #36165a;
            color: #ffffff;
            border-radius: 4px;
            padding: 8px;
            text-align: center;
            margin-bottom: 5px;
        }

        .grid-comp-tr-in > div:last-child {
            border-top: 1px dotted gray;
            color: #36165a;
            padding: 8px;
            text-align: center;
        }

        .styled-table {
            border-collapse: collapse;
            margin: 15px 0;
            font-size: 0.9em;
            width: 100%;
            page-break-inside: auto;
        }

        .styled-table thead {
            display: table-header-group;
        }

        .styled-table thead tr {
            background-color: #36165a;
            color: #ffffff;
            text-align: left;
        }

        .styled-table th,
        .styled-table td {
            padding: 8px 10px;
            border: 1px solid #dddddd;
        }

        .styled-table tbody tr {
            page-break-inside: avoid;
            page-break-after: auto;
        }

        .styled-table tbody tr:nth-of-type(even) {
            background-color: #f3f3f3;
        }

        .styled-table tbody tr:last-of-type {
            border-bottom: 2px solid #36165a;
        }

        div {
            color: #303030;
            font-size: 14px;
        }

        h3 {
            color: #36165a;
            font-size: 16px;
        }

        .footer-comp h3 {
            margin: 10px 0;
        }

        .footer-comp-tab p {
            margin: 10px 0;
            padding: 10px;
            background-color: #f3f3f3;
            border-left: 3px solid #36165a;
        }

        .footer-comp-tab-c {
            padding: 10px;
            background-color: #f9f9f9;
            border: 1px solid #e0e0e0;
            border-radius: 5px;
        }

        .footer-comp-tab-c div {
            padding: 3px 0;
        }
    </style>
</head>

<body>
    <div class="a4-page">
        <div class="header-comp"></div>
        <div class="header-div">
            <div class="header-img">
                <img src="file:///home/ak/Projects/FirstFullStackWebApi/binfk_backend/templates/logo.webp" alt="theracues logo">
            </div>
        </div>
        <div class="header-comp2">
            <h3>LIBRARY QC REPORT</h3>
        </div>
        
        <div class="general-cont">
            <div class="overview-head">
                <h3>GENERAL INFO</h3>
            </div>
            <div class="grid-comp">
                <div class="grid-inside-comp">
                    <div>Project ID</div>
                    <div>{{ project_id }}</div>
                </div>
                <div class="grid-inside-comp">
                    <div>Client Name</div>
                    <div>{{ name }}</div>
                </div>
                <div class="grid-inside-comp">
                    <div>Institution/ Organization</div>
                    <div>{{ institution }}</div>
                </div>
                <div class="grid-inside-comp">
                    <div>Lab/ Department</div>
                    <div>{{ lab_dept }}</div>
                </div>
                <div class="grid-inside-comp">
                    <div>QC Report Date</div>
                    <div>{{ date }}</div>
                </div>
            </div>
        </div>

        <div class="general-cont">
            <div class="overview-head">
                <h3>PROJECT OVERVIEW</h3>
            </div>
            <div class="grid-comp-tr">
                <div class="grid-comp-tr-in">
                    <div>Service Offered</div>
                    <div>{{ service_name }}</div>
                </div>
                <div class="grid-comp-tr-in">
                    <div>Sample Type</div>
                    <div>{{ sample_type }}</div>
                </div>
                <div class="grid-comp-tr-in">
                    <div>Application</div>
                    <div>{{ application }}</div>
                </div>
            </div>
            <div class="grid-comp-tr">
                <div class="grid-comp-tr-in">
                    <div>Extraction</div>
                    <div>{{ extraction_needed }}</div>
                </div>
                <div class="grid-comp-tr-in">
                    <div>Number of samples</div>
                    <div>{{ sample_number }}</div>
                </div>
                <div class="grid-comp-tr-in">
                    <div>Platform</div>
                    <div>{{ platform_int }} and {{ platform_conc }}</div>
                </div>
            </div>
        </div>

        <div class="general-cont">
            <div class="overview-head">
                <h3>LIBRARY QC DETAILS</h3>
            </div>
            <table class="styled-table">
                <thead>
                    <tr>
                        <th>Sample ID</th>
                        <th>theraCUES Sample ID</th>
                        <th>Conc.</th>
                        <th>Comments</th>
                    </tr>
                </thead>
                <tbody>
                    {% for row in qc_same_details %}
                    <tr>
                        <td>{{ row.sample_id }}</td>
                        <td>{{ row.tcues_sample_id }}</td>
                        <td>{{ "%.2f"|format(row.nucleic_acid_conc) }}</td>
                        <td>{{ row.comments }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

        <div class="general-cont">
            <div class="footer-comp">
                <h3>Comments</h3>
            </div>
            <div class="footer-comp-tab">
                <p>All samples were quantitated on {{platform_conc}} and integrity check done on {{ platform_int }}. Kindly review the report.</p>
                <p>Library QC Summary: {{qc_summary}}</p>
            </div>
        </div>

        <div class="general-cont">
            <div class="footer-comp">
                <h3>For Queries</h3>
            </div>
            <div class="footer-comp-tab-c">
                <div>Kindly Contact:</div>
                <div>Project Management Team</div>
                <div>TheraCUES Innovations Pvt. Ltd.</div>
                <div>Bangalore - 560 092</div>
                <div>Phone: +91 80 4866 1874</div>
                <div>Email- projectmgt@theracues.com</div>
            </div>
        </div>
    </div>
</body>
</html>